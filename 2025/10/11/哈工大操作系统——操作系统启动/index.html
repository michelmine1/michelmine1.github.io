<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>哈工大操作系统 | 七喵的博客</title><meta name="author" content="michelmine1"><meta name="copyright" content="michelmine1"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="哈工大操作系统10.11 操作系统启动1.setup 模块（setup.s）12345678910111213start: mov ax,#INITSEG	mov ds,ax	mov	ah,#0x03	xor bh,bh int 0x10&#x2F;&#x2F;取光标位置dx mov [0],dx	mov ah,#0x88	int 0x15	mov [2],ax...	cli&#x2F;&#x2F;不允许中断	mov ax,#0x000">
<meta property="og:type" content="article">
<meta property="og:title" content="哈工大操作系统">
<meta property="og:url" content="http://example.com/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/index.html">
<meta property="og:site_name" content="七喵的博客">
<meta property="og:description" content="哈工大操作系统10.11 操作系统启动1.setup 模块（setup.s）12345678910111213start: mov ax,#INITSEG	mov ds,ax	mov	ah,#0x03	xor bh,bh int 0x10&#x2F;&#x2F;取光标位置dx mov [0],dx	mov ah,#0x88	int 0x15	mov [2],ax...	cli&#x2F;&#x2F;不允许中断	mov ax,#0x000">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/7.jpg">
<meta property="article:published_time" content="2025-10-11T03:03:31.000Z">
<meta property="article:modified_time" content="2025-10-25T05:32:08.070Z">
<meta property="article:author" content="michelmine1">
<meta property="article:tag" content="OS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/7.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "哈工大操作系统",
  "url": "http://example.com/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/",
  "image": "http://example.com/img/7.jpg",
  "datePublished": "2025-10-11T03:03:31.000Z",
  "dateModified": "2025-10-25T05:32:08.070Z",
  "author": [
    {
      "@type": "Person",
      "name": "michelmine1",
      "url": "http://example.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: michelmine1","link":"链接: ","source":"来源: 七喵的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '哈工大操作系统',
  isHighlightShrink: true,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/3.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/cat.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/7.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/cat.jpg" alt="Logo"><span class="site-name">七喵的博客</span></a><a class="nav-page-title" href="/"><span class="site-name">哈工大操作系统</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">哈工大操作系统</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-11T03:03:31.000Z" title="发表于 2025-10-11 11:03:31">2025-10-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-25T05:32:08.070Z" title="更新于 2025-10-25 13:32:08">2025-10-25</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="哈工大操作系统"><a href="#哈工大操作系统" class="headerlink" title="哈工大操作系统"></a>哈工大操作系统</h1><h2 id="10-11-操作系统启动"><a href="#10-11-操作系统启动" class="headerlink" title="10.11 操作系统启动"></a>10.11 操作系统启动</h2><h3 id="1-setup-模块（setup-s）"><a href="#1-setup-模块（setup-s）" class="headerlink" title="1.setup 模块（setup.s）"></a>1.setup 模块（setup.s）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">start: mov ax,#INITSEG	mov ds,ax	mov	ah,#0x03</span><br><span class="line">	xor bh,bh int 0x10//取光标位置dx mov [0],dx</span><br><span class="line">	mov ah,#0x88	int 0x15	mov [2],ax...</span><br><span class="line">	cli//不允许中断</span><br><span class="line">	mov ax,#0x0000 cld</span><br><span class="line">do_move:mov es,ax	add ax,#0x1000</span><br><span class="line">	cmp ax,#0x9000 jz end_move</span><br><span class="line">	mov ds,ax sub di,di</span><br><span class="line">	sub si,si</span><br><span class="line">	mov cx,#0x8000</span><br><span class="line">	rep</span><br><span class="line">	movsw</span><br><span class="line">	jmp do_move</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>内存地址</th>
<th>长度</th>
<th>名称</th>
</tr>
</thead>
<tbody><tr>
<td>0x90000</td>
<td>2</td>
<td>光标位置</td>
</tr>
<tr>
<td>0x90002</td>
<td>2</td>
<td>扩展内存数</td>
</tr>
<tr>
<td>0x9000C</td>
<td>2</td>
<td>显卡参数</td>
</tr>
<tr>
<td>0x901FC</td>
<td>2</td>
<td>根设备号</td>
</tr>
</tbody></table>
<p><strong>setup将完成OS启动前的设置</strong></p>
<p>mov [2],ax…———————&gt;扩展内存大小</p>
<p>rep———————————-&gt;将system模块移到0地址</p>
<p><strong>进入保护模式</strong>：</p>
<p>call empty_8042	mov al,#0xD1	out #0x64,al</p>
<p>&#x2F;&#x2F;8042是键盘控制器，其输出端口P2（D1表示写数据到8042的P2端口）用来控制A20地址线</p>
<p>call empty_8042	mov al,#0xDF	out #0x60,al</p>
<p>&#x2F;&#x2F;选通A20地址线	call empty_8042</p>
<p>初始化8259（中断控制）&#x2F;&#x2F;一段非常机械化的程序</p>
<p><strong>mov ax,#0x0001	mov cr0,ax</strong></p>
<p><strong>jumpi 0,8</strong>———&gt;把0赋给ip,把8赋给cs</p>
<p>如果cs&lt;&lt;4+ip(段寄存器左移四位加上偏移)——–&gt;80——–&gt;死机，应该跳到0地址处</p>
<p>最多可达到20位（16位段寄存器左移4位+16位偏移）</p>
<p>切换到保护模式的意义：最多可达20位，但是老计算机只有16位，进入保护模式，就是切换到32位机。</p>
<p><strong>非常酷的cr0寄存器!</strong></p>
<p>这个寄存器的最后一位如果是0，那么就是16位模式，如果是1，安么就是保护模式：</p>
<p>  31                                                                            0</p>
<table>
<thead>
<tr>
<th>PG</th>
<th></th>
<th>PE</th>
</tr>
</thead>
</table>
<p>PE&#x3D;1启动保护模式</p>
<p>PG&#x3D;1启动分页</p>
<h4 id="保护模式下的地址翻译和中断处理"><a href="#保护模式下的地址翻译和中断处理" class="headerlink" title="保护模式下的地址翻译和中断处理"></a>保护模式下的地址翻译和中断处理</h4><p>gdt(global descript table全局描述服务表)：t是table，所以实模式下：cs左移4+ip。保护模式下：根据cs查表+ip。</p>
<p>setup需要初始化这个表</p>
<p>idt()：t仍是table，仿照gdt，通过int n的n进行查表。</p>
<h3 id="2-跳到system模块执行"><a href="#2-跳到system模块执行" class="headerlink" title="2.跳到system模块执行"></a>2.跳到system模块执行</h3><p>system模块中的第一部分代码？head.s</p>
<p>system有许多文件编译而成，为什么是head.s？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">stratup_32: movl $0x10,%eax 	mov %ax,%ds 	mov %ax,%es </span><br><span class="line">	mov %ax,%fs	 mov %ax,%gs 	//指向gdt的0x10项(数据段)</span><br><span class="line">	 lss _stack_start,%esp	 //设置栈(系统栈)</span><br><span class="line">	 call setup_idt </span><br><span class="line">	call setup_gdt </span><br><span class="line">	xorl %eax,%eax </span><br><span class="line">1:incl %eax</span><br><span class="line">	 movl %eax,0x000000 cmpl %eax,0x100000</span><br><span class="line">	 je 1b //0地址处和1M地址处相同(A20没开启)，就死循环</span><br><span class="line">	 jmp after_page_tables //页表，什么东东? </span><br><span class="line">setup_idt: lea ignore_int,%edx </span><br><span class="line">	movl $0x00080000,%eax movw %dx,%ax</span><br><span class="line">	 lea _idt,%edi movl %eax,(%edi) </span><br></pre></td></tr></table></figure>

<p>32位汇编代码的源操作数和目标操作数刚好和16位汇编代码反过来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">struct&#123;long *a; short b;&#125;stack_start=&#123;&amp;user_stack[PAGE_SIZE&gt;&gt;2],0x10&#125;;</span><br></pre></td></tr></table></figure>

<p>汇编-&gt;c函数</p>
<p>C执行func(p1,p2,p3)</p>
<p>用栈</p>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">p3</td>
</tr>
<tr>
<td align="left">p2</td>
</tr>
<tr>
<td align="left">p1</td>
</tr>
<tr>
<td align="left">返回地址</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">after_page_tables:</span><br><span class="line">	 pushl $0 	pushl $0 	pushl $0	 pushl $L6	 pushl $_main </span><br><span class="line">	jmp set_paging</span><br><span class="line">	 L6: jmp L6</span><br><span class="line"> 	setup_paging: 设置页表 ret//弹出栈底的元素</span><br></pre></td></tr></table></figure>

<p>setuo_paging执行ret后？会执行函数main()。</p>
<h3 id="进入main函数"><a href="#进入main函数" class="headerlink" title="进入main函数"></a>进入main函数</h3><p>开始c语言程序了！</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span> <span class="params">(<span class="type">void</span>)</span>&#123; </span><br><span class="line">    mem_init ();</span><br><span class="line">	trap_init ();</span><br><span class="line">	blk_dev_init ();</span><br><span class="line">	chr_dev_init ();</span><br><span class="line">	tty_init ();</span><br><span class="line">	time_init ();</span><br><span class="line">	sched_init ();</span><br><span class="line">	buffer_init ();</span><br><span class="line">	hd_init ();</span><br><span class="line">	floppy_init ();</span><br><span class="line">	sti ();</span><br><span class="line">	move_to_user_mode ();</span><br><span class="line">	<span class="keyword">if</span> (!fork ())&#123;</span><br><span class="line">    	init ();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在linux&#x2F;mm&#x2F;memory.c中 </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">mem_init</span><span class="params">(<span class="type">long</span> start_mem,<span class="type">long</span> end_mem)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;PAGING_PAGES; i++) </span><br><span class="line">        mem_map[i] = USED;</span><br><span class="line">    i = MAP_NR(start_mem);</span><br><span class="line">    end_mem -= start_mem;</span><br><span class="line">    end_mem &gt;&gt;= <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">while</span>(end_mem -- &gt; <span class="number">0</span>)</span><br><span class="line">        mem_map[i++] = <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>

<p>mem_init-&gt;进行内存的初始化，就是初始化mem_map数组</p>
<p>end_mem &gt;&gt;&#x3D; 12; ——–&gt;每次减2^12，即减4k</p>
<p>mem_init()完成了两件事：</p>
<ol>
<li>将操作系统读入内存（为了取值执行）</li>
<li>完成初始化</li>
</ol>
<h2 id="10-19操作系统接口"><a href="#10-19操作系统接口" class="headerlink" title="10.19操作系统接口"></a>10.19操作系统接口</h2><h3 id="接口（Interface）"><a href="#接口（Interface）" class="headerlink" title="接口（Interface）"></a>接口（Interface）</h3><p>用户如何使用计算机？</p>
<ul>
<li>命令行</li>
<li>图形按钮</li>
<li>应用程序</li>
</ul>
<h4 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h4><p>shell也是一段程序：即&#x2F;bin&#x2F;sh</p>
<p>shell主体：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="type">char</span> cmd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,cmd);</span><br><span class="line">		<span class="keyword">if</span>(!fork())&#123;</span><br><span class="line">			exec(cmd);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			wait();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="图形按钮"><a href="#图形按钮" class="headerlink" title="图形按钮"></a>图形按钮</h4><p>鼠标点击、键盘按下以后……</p>
<p>硬件输入—-&gt;系统消息队列—-&gt;应用消息队列i（数组）—-&gt;消息循环（GetMessage）—-&gt;WinProc1&#x2F;WinProc2—-&gt;OUTPUT按钮的WinProc(){case WM_MOUSEDOWN:OnOK();}</p>
<h4 id="用户使用计算机：通过应用软件"><a href="#用户使用计算机：通过应用软件" class="headerlink" title="用户使用计算机：通过应用软件"></a>用户使用计算机：通过应用软件</h4><p>操作系统接口：连接谁？操作系统和应用软件；</p>
<p>​							如何连接？C语言程序</p>
<p>普通C代码加上一些重要函数</p>
<p>所以，操作系统提供这样的重要函数，这就是操作系统的接口了：接口表现为函数调用，又有系统提供，所以称为系统调用。</p>
<p><strong>什么是操作系统接口？系统调用</strong></p>
<p>系统调用就好像电源插头一样</p>
<p>POSIX：Portable Operating System Interface of Unix(IEEE制定的一个标准族)</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>POSIX定义</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>fork</td>
<td>创建一个进程</td>
</tr>
<tr>
<td>任务管理</td>
<td>execl</td>
<td>运行一个可执行程序</td>
</tr>
<tr>
<td></td>
<td>pthread_create</td>
<td>创建一个线程</td>
</tr>
<tr>
<td></td>
<td>open</td>
<td>打开一个文件或目录</td>
</tr>
<tr>
<td>文件系统</td>
<td>EACCES</td>
<td>返回值，表示没有权限</td>
</tr>
<tr>
<td></td>
<td>mode_t st_mode</td>
<td>文件头结构：文件属性</td>
</tr>
</tbody></table>
<h2 id="10-22系统调用是如何实现的？"><a href="#10-22系统调用是如何实现的？" class="headerlink" title="10.22系统调用是如何实现的？"></a>10.22系统调用是如何实现的？</h2><p>实现一个whoami系统调用</p>
<ul>
<li>用户程序调用whoami，一个字符串“lizhijun”放在操作系统中，取出来打印</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main()&#123;</span><br><span class="line">	whoami();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">whoami()&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="number">100</span>,<span class="number">80</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//100:&quot;lizhijun&quot;</span></span><br></pre></td></tr></table></figure>

<p>操作系统和应用程序都在内存中，操作系统想要访问应用系统，为什么不直接跳到内存中的应用程序呢？</p>
<p>如果可以，就会有下列隐患：</p>
<ul>
<li>不能随意调用数据，不能随意jmp</li>
<li>可以看到root密码，可以修改它</li>
<li>人们可以通过显存看到别人word里的内容</li>
</ul>
<p>HOW?</p>
<p>将内核程序和用户程序隔离！！！</p>
<p>计算机对内存的使用是一段一段的。</p>
<p>用段寄存器存内核段和用户段：</p>
<p>DPL(destination privilege level 目标特权级别)-&gt;描述目标段（whoami()）0</p>
<p>CPL(current privilege level 当前特权级别)-&gt;3</p>
<p>当前程序执行在什么态？由于CS:IP是当前指令，所以CS的最低两位来表示：0是内核态，3是用户态</p>
<p>每次访问都要检查当前的特权级(main())和目标特权()whoami()，只有当当前的特权级&gt;&#x3D;目标特权级时，才可以访问。</p>
<p><strong>硬件也提供了“主动进入内核的方法”</strong></p>
<ul>
<li>int指令将使CS中的CPL改成0，“进入内核”</li>
<li>这是用户程序发起的调用内核代码的唯一方式</li>
<li>系统调用的核心：<ol>
<li>用户程序中包含一段int指令的代码</li>
<li>操作系统写中断处理，获取想调程序的编号</li>
<li>操作系统根据编号执行相应的代码</li>
</ol>
</li>
</ul>
<p><strong>“int 0x80”—-&gt;进入中断</strong></p>
<p>通过C语言内嵌汇编，进入内核。</p>
<p>int指令要查idt表来找到中断要转到哪里执行。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">shced_inti</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">	set_system_gate(<span class="number">0x80</span>,&amp;system_call);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用户调用printf—-&gt;printf展成int 0x80 (用户态) | 中断处理system_call—-&gt;查表sys_call_table—-&gt;_NR_write&#x3D;4—-&gt;调用sys_write (内核态)</p>
<p>现在，可以把代码改成这样：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">main()&#123;</span><br><span class="line">	eax=<span class="number">72</span>;</span><br><span class="line">	<span class="type">int</span> <span class="number">0x80</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_system_call:</span><br><span class="line">call sys_whoami</span><br><span class="line"><span class="comment">//sys_call_table + eax*4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sys_whoami()&#123;</span><br><span class="line">	printk(<span class="number">100</span>,<span class="number">8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//100 : “lizhijun”</span></span><br></pre></td></tr></table></figure>

<h2 id="操作系统历史"><a href="#操作系统历史" class="headerlink" title="操作系统历史"></a>操作系统历史</h2><p><strong>1、（1955-1965）</strong></p>
<p>计算机非常昂贵，上古神机IBM 7094，造价在250万美元以上。</p>
<ul>
<li>计算机使用原则：只专注于计算</li>
<li>批处理操作系统（Batch system）</li>
<li>典型代表：IBSYS监控系统</li>
</ul>
<p><strong>2、从IBSYS到OS&#x2F;360(1965-1980)</strong></p>
<p>计算机开始进入多个行业：科学计算（IBM 7094），银行（IBM 1401）</p>
<ul>
<li>需要让一台计算机干多种事</li>
<li>多道程序（multiprogramming）</li>
<li>作业之间的切换和调度成为核心：因为既有IO任务，又有计算任务，需要让CPU忙碌</li>
<li>典型代表：IBM OS&#x2F;360(360表示全方位服务)，开发周期5000个人年</li>
</ul>
<p>多进程结构和进程管理概念萌芽！</p>
<p>计算机进入多个行业，使用人数增加</p>
<ul>
<li>如果每个人启动一个作业，作业之间快速切换</li>
<li>分时系统（timesharing）</li>
<li>代表：MIT MULTICS(MULTiplexed Information and Computer Service)</li>
<li>核心仍然是任务切换，但是资源复用的思想对操作系统的影响很大，虚拟内存就是一种复用。</li>
</ul>
<p><strong>3、从MULTICS到UNIX(1980-1990)</strong></p>
<p>小型化计算机出现，PDP-1每台售价120000美元。</p>
<ul>
<li>越来越多的个人可以使用计算机</li>
<li>1969年：贝尔实验室的Ken Thompson、Dennis Ritchi等在一胎没人使用的PDP-7上开发一个简化的MULTICS，就是后来的UNIX。</li>
</ul>
<p><strong>4、从UNIX到Lniux(1990-2000)</strong></p>
<ul>
<li>1981，IBM 推出 IBM PC；个人计算机开始普及</li>
<li>很多人可以用计算机并接触 UNIX</li>
<li>1987 年 Andrew Tanenbaum 发布了 MINIX (非常类似 UNIX) 用于教学</li>
<li>Linus Torvalds 在 386sx 兼容微机上学习 minix，作出小 Linux 于 1991 年发布</li>
<li>1994 年，Linux 1.0 发布并采用 GPL 协议，1998 年以后互联网世界里展开了一场历史性的 Linux 产业化运动</li>
</ul>
<p><strong>5、IBSYS→OS&#x2F;360→MULTICS→Unix→Linux</strong></p>
<ul>
<li>总结历史：历史要开始让人明智了</li>
<li>核心思想、技术<ul>
<li>用户通过执行程序来使用计算机 (吻合冯诺依曼的思想)</li>
<li>作为管理者，操作系统要让多个程序合理推进，就是进程管理</li>
<li>多进程 (用户) 推进时需要内存复用等等</li>
</ul>
</li>
<li>软件实现<ul>
<li>对于操作系统，实现很重要 OS&#x2F;360→UNIX</li>
<li>需要真正的群体智慧 UNIX→Linux</li>
</ul>
</li>
</ul>
<p><strong>6、从QDOS到MS-DOS</strong></p>
<ul>
<li>Bill Gates 要进入历史舞台了…<ul>
<li>1975 年，22 岁的 Paul Allen 和 20 岁的 Bill Gates 为 Altair 8800 开发了 BASIC 解释器，据此开创了微软</li>
<li>1977 年 Bill Gates 开发 FAT 管理磁盘</li>
<li>QDOS 的成功在于以 CP&#x2F;M 为基础将 BASIC 和 FAT 包含了进来</li>
<li>1980 年 IBM 想和 Digital Research 协议授权使用 CP&#x2F;M，但没有达成，转向和微软合作；1981 微软买下 QDOS，改名为 MS-DOS (Disk OS)，和 IBM PC 打包一起出售</li>
</ul>
</li>
</ul>
<p><strong>7、从MS-DOS到Windows</strong></p>
<ul>
<li>MS-DOS 的磁盘、文件、命令让用方便，但似乎可以更方便<ul>
<li>1989 年，MS-DOS 4.0 出现，支持了鼠标和键盘，此时微软已经决定要放弃 MS-DOS</li>
<li>不久后 Windows 3.0 大获成功</li>
<li>后来就是一发不可收拾了，95，XP，Vista，Win 7，Win 8…</li>
<li>文件、开发环境、图形界面对于 OS 的重要性</li>
</ul>
</li>
</ul>
<h2 id="10-25我们的任务"><a href="#10-25我们的任务" class="headerlink" title="10.25我们的任务"></a>10.25我们的任务</h2><p>mem_map();</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">michelmine1</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/">http://example.com/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">七喵的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/OS/">OS</a></div><div class="post-share"><div class="social-share" data-image="/img/7.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/09/14/%E4%B8%89%E7%BA%A7%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AC%AC%E4%BA%94%E7%AB%A0/" title="三级数据库第五章"><img class="cover" src="/img/7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">三级数据库第五章</div></div><div class="info-2"><div class="info-item-1">三级数据库第五章——UML与数据库应用系统一、UML图1、图1、活动图活动图主要用来描述系统、用例和程序模块中逻辑流程的先后执行次序，并行次序。   基本组成元素： 1. 基本组成元素   元素 描述    起始节点 表示流程的开始点，每个活动图必须有且仅有一个起始节点，用黑色圆点表示   活动节点 表示流程中的一个步骤或操作，用圆角矩形表示   控制流 连接节点，表示活动之间的转换和顺序，用实现箭头表示   结束节点 表示流程的终止，分为活动结束(终止特定流程)和流程结束(终止所有流程)，用双层空心圆表示   2. 决策与合并   元素 描述    决策节点 菱形表示，用于表示条件分支，每个输出流应有监护条件   合并节点 同样使用菱形，用于多个可选路径   3. 并行处理   元素 描述    分叉节点 粗水平线，将单一流程分为多个并发执行的子流程   结合节点 粗水平线，等待所有并行流程完成   4. 其他重要元素   元素 描述    对象节点 表示活动处理的数据或对象   泳道 将活动按职责分组，通常表示不同的参与者或组织单元   信号 表示发送或接收事件，如发送电子邮...</div></div></div></a><a class="pagination-related" href="/2025/10/11/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" title="汇编语言"><img class="cover" src="/img/7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">汇编语言</div></div><div class="info-2"><div class="info-item-1">汇编语言学习书目：《汇编语言》——王爽，清华大学出版社 第一章 基础知识机器语言机器语言是程序员们用0、1数字变成的程序代码打在纸带或卡片上，1打孔，0不打孔，再将程序通过纸带机或者卡片机输入计算机，进行运算。 机器语言冗杂、难记、不易纠错，于是就产生了汇编语言。 汇编语言的产生汇编指令是机器指令便于记忆的书写格式。 例：机器指令1000100111011000表示把寄存器BX的内容送到AX中。汇编指令则携程mov ax,bx。 程序员编写汇编指令-&gt;编译器将汇编指令编译为机器码-&gt;计算机执行。 汇编语言的组成分为三类： （1）汇编指令：机器码的助记符，有对应的机器码。 （2）伪指令：没有对应的机器码，由编译器执行，计算机并不执行。 （3）其他符号：如+、-、*、&#x2F;等，由编译器识别，没有对应的机器码。 存储器CPU是计算机的核心，想让CPU工作，就得提供指令和数据。指令和数据就存放在存储器中，也就是内存。而磁盘不同于内存，磁盘中的内容要先读取到内存中，才能使用。 指令和数据指令和数据在内存或磁盘中都是二进制代码，没有任何区别。但是在CPU工作时，就会将有的信...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/10/25/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%AC%E4%BA%8C%E7%AB%A0/" title="哈工大操作系统第二章"><img class="cover" src="/img/7.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-25</div><div class="info-item-2">哈工大操作系统第二章</div></div><div class="info-2"><div class="info-item-1">哈工大操作系统第二部分——进程与线程10.25CPU管理的直观想法CPU的工作原理CPU上电后发生了什么？ 自动的取值——执行。 123456750:mov ax,[100]51:mov bx,[101]52:add ax,bx......100:0101:0//设PC为50  123456789int main(int argc,char* argv[v])&#123;	int i,to,*fp,sum=0;	to=atoi(argv[1]);	for(i=1;i&lt;=to;i++)&#123;		sum=sum+i;		fprintf(fp,&quot;%d&quot;,sum);	&#125;&#125;//pc置成该程序的初始地址  fprintf（IO指令）用一条其他的计算语句代替。 有IO指令:arrow_right:sum 10000000:arrow_right:0.015s。 无IO指令:arrow_right:sum 1000:arrow_right:0.859s。 那么就说明，IO指令非常慢，约等于10^6倍。 多道程序交替执行，就会使CPU忙碌起来 一...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/cat.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">michelmine1</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">能行的，小七喵</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">哈工大操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-11-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8"><span class="toc-number">1.1.</span> <span class="toc-text">10.11 操作系统启动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-setup-%E6%A8%A1%E5%9D%97%EF%BC%88setup-s%EF%BC%89"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.setup 模块（setup.s）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E6%8A%A4%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E5%9C%B0%E5%9D%80%E7%BF%BB%E8%AF%91%E5%92%8C%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">保护模式下的地址翻译和中断处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B7%B3%E5%88%B0system%E6%A8%A1%E5%9D%97%E6%89%A7%E8%A1%8C"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.跳到system模块执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5main%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.3.</span> <span class="toc-text">进入main函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-19%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.2.</span> <span class="toc-text">10.19操作系统接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%EF%BC%88Interface%EF%BC%89"><span class="toc-number">1.2.1.</span> <span class="toc-text">接口（Interface）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">命令行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E6%8C%89%E9%92%AE"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">图形按钮</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%EF%BC%9A%E9%80%9A%E8%BF%87%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">用户使用计算机：通过应用软件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-22%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F"><span class="toc-number">1.3.</span> <span class="toc-text">10.22系统调用是如何实现的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%86%E5%8F%B2"><span class="toc-number">1.4.</span> <span class="toc-text">操作系统历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-25%E6%88%91%E4%BB%AC%E7%9A%84%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.5.</span> <span class="toc-text">10.25我们的任务</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/27/diary20251027/" title="diary20251027"><img src="/img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="diary20251027"/></a><div class="content"><a class="title" href="/2025/10/27/diary20251027/" title="diary20251027">diary20251027</a><time datetime="2025-10-27T06:08:22.000Z" title="发表于 2025-10-27 14:08:22">2025-10-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/25/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%AC%E4%BA%8C%E7%AB%A0/" title="哈工大操作系统第二章"><img src="/img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="哈工大操作系统第二章"/></a><div class="content"><a class="title" href="/2025/10/25/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%AC%E4%BA%8C%E7%AB%A0/" title="哈工大操作系统第二章">哈工大操作系统第二章</a><time datetime="2025-10-25T05:32:58.000Z" title="发表于 2025-10-25 13:32:58">2025-10-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/21/%E8%8B%B1%E8%AF%AD%E7%AC%94%E8%AE%B0/" title="英语笔记"><img src="/img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英语笔记"/></a><div class="content"><a class="title" href="/2025/10/21/%E8%8B%B1%E8%AF%AD%E7%AC%94%E8%AE%B0/" title="英语笔记">英语笔记</a><time datetime="2025-10-21T02:39:42.000Z" title="发表于 2025-10-21 10:39:42">2025-10-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/11/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" title="汇编语言"><img src="/img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="汇编语言"/></a><div class="content"><a class="title" href="/2025/10/11/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" title="汇编语言">汇编语言</a><time datetime="2025-10-11T03:24:52.000Z" title="发表于 2025-10-11 11:24:52">2025-10-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/" title="哈工大操作系统"><img src="/img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="哈工大操作系统"/></a><div class="content"><a class="title" href="/2025/10/11/%E5%93%88%E5%B7%A5%E5%A4%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8/" title="哈工大操作系统">哈工大操作系统</a><time datetime="2025-10-11T03:03:31.000Z" title="发表于 2025-10-11 11:03:31">2025-10-11</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/2.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By michelmine1</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0-b1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU,ODIN" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>